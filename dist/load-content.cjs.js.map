{"version":3,"file":"load-content.cjs.js","sources":["../src/load-content.js"],"sourcesContent":["import \"./load-content.scss\";\n\n/* ------------------------------------------------------------------\n * <load-content> web component\n * ---------------------------------------------------------------- */\nclass LoadContent extends HTMLElement {\n\t/** sets up internal state and binds methods */\n\tconstructor() {\n\t\tsuper();\n\n\t\t/** @private {number} current page index (1-based) */\n\t\tthis.currentPage = 1;\n\n\t\t/** @private {boolean} whether another page exists */\n\t\tthis.hasNextPage = false;\n\n\t\t/** @private {string} base url to request more html from */\n\t\tthis.baseUrl = \"\";\n\n\t\t/** @private {string} default mode for content loading (append|swap) */\n\t\tthis.mode = \"append\";\n\n\t\t/** @private {string[]} css selectors whose children weâ€™ll append */\n\t\tthis.contentSelectors = [];\n\n\t\t/** @private {string} css selector to filter which children to append */\n\t\tthis.appendFilter = \"\";\n\n\t\t/** @private {number} total items that have been appended so far */\n\t\tthis.itemsShown = 0;\n\n\t\t/** @private {boolean} guard to prevent duplicate clicks while loading */\n\t\tthis.isLoading = false;\n\n\t\t/* bind so we can remove listener if element detaches */\n\t\tthis.handleClick = this.handleClick.bind(this);\n\t}\n\n\t/* --------------------------------------------------------------\n\t * lifecycle\n\t * ---------------------------------------------------------- */\n\tconnectedCallback() {\n\t\tthis.readAttributes();\n\t\tthis.addEventListener(\"click\", this.handleClick);\n\t\tthis.updateButtonState();\n\t}\n\n\tdisconnectedCallback() {\n\t\tthis.removeEventListener(\"click\", this.handleClick);\n\t}\n\n\t/* --------------------------------------------------------------\n\t * attribute helpers\n\t * ---------------------------------------------------------- */\n\t/** parses attributes into internal state */\n\treadAttributes() {\n\t\tconst _ = this;\n\t\t_.currentPage = Number(_.getAttribute(\"current-page\")) || 1;\n\t\t_.hasNextPage = _.getAttribute(\"has-next-page\") === \"true\";\n\t\t_.baseUrl = _.getAttribute(\"url\") || window.location.pathname;\n\t\t_.mode = _.getAttribute(\"mode\") || \"append\";\n\t\t_.contentSelectors = (_.getAttribute(\"targets\") || \"\")\n\t\t\t.split(\",\")\n\t\t\t.map((s) => s.trim())\n\t\t\t.filter(Boolean);\n\t\t_.appendFilter = _.getAttribute(\"append-filter\") || \"\";\n\n\t\t/* recount items currently in the dom */\n\t\t_.itemsShown = _.contentSelectors.reduce((sum, selector) => {\n\t\t\tconst el = document.querySelector(selector);\n\t\t\treturn el ? sum + el.children.length : sum;\n\t\t}, 0);\n\t}\n\n\t/* --------------------------------------------------------------\n\t * public api\n\t * ---------------------------------------------------------- */\n\t/**\n\t * resets internal + reflected state\n\t * @param {Object} opts\n\t */\n\treset(opts = {}) {\n\t\tconst _ = this;\n\t\tif (opts.currentPage !== undefined)\n\t\t\t_.setAttribute(\"current-page\", String(opts.currentPage));\n\t\tif (opts.hasNextPage !== undefined)\n\t\t\t_.setAttribute(\"has-next-page\", String(opts.hasNextPage));\n\t\tif (opts.url !== undefined) _.setAttribute(\"url\", opts.url);\n\t\tif (opts.targets !== undefined) {\n\t\t\t_.setAttribute(\n\t\t\t\t\"targets\",\n\t\t\t\tArray.isArray(opts.targets)\n\t\t\t\t\t? opts.targets.join(\", \")\n\t\t\t\t\t: String(opts.targets),\n\t\t\t);\n\t\t}\n\t\tif (opts.mode !== undefined) _.setAttribute(\"mode\", opts.mode);\n\t\tif (opts.appendFilter !== undefined)\n\t\t\t_.setAttribute(\"append-filter\", opts.appendFilter);\n\n\t\t_.readAttributes();\n\t\t_.updateButtonState();\n\n\t\t_.dispatchEvent(\n\t\t\tnew CustomEvent(\"onReset\", {\n\t\t\t\tbubbles: true,\n\t\t\t\tdetail: {\n\t\t\t\t\tcurrentPage: _.currentPage,\n\t\t\t\t\thasNextPage: _.hasNextPage,\n\t\t\t\t\titemsShown: _.itemsShown,\n\t\t\t\t},\n\t\t\t}),\n\t\t);\n\t}\n\n\t/* --------------------------------------------------------------\n\t * button state helpers\n\t * ---------------------------------------------------------- */\n\tdisable() {\n\t\tthis.setAttribute(\"disabled\", \"\");\n\t\tthis.setAttribute(\"data-state\", \"loading\");\n\t}\n\n\tenable() {\n\t\tthis.removeAttribute(\"disabled\");\n\t\tthis.setAttribute(\"data-state\", \"ready\");\n\t}\n\n\tsetComplete() {\n\t\tthis.setAttribute(\"disabled\", \"\");\n\t\tthis.setAttribute(\"data-state\", \"complete\");\n\t}\n\n\tupdateButtonState() {\n\t\tif (this.isLoading) this.disable();\n\t\telse if (!this.hasNextPage) this.setComplete();\n\t\telse this.enable();\n\t}\n\n\t/* --------------------------------------------------------------\n\t * click + fetch\n\t * ---------------------------------------------------------- */\n\tasync handleClick(evt) {\n\t\tconst _ = this;\n\t\tevt.preventDefault();\n\t\tif (!_.hasNextPage || _.isLoading) return;\n\n\t\t_.isLoading = true;\n\t\t_.updateButtonState();\n\n\t\ttry {\n\t\t\tawait _.fetchAndAppendNextPage();\n\t\t} catch (err) {\n\t\t\tconsole.error(\"load-content: failed to load next page\", err);\n\t\t} finally {\n\t\t\t_.isLoading = false;\n\t\t\t_.updateButtonState();\n\t\t}\n\t}\n\n\t/** builds ?page= param for the next request */\n\tbuildNextPageUrl() {\n\t\tconst _ = this;\n\t\tconst url = new URL(_.baseUrl, window.location.origin);\n\t\tif (_.mode === \"append\" && _.getAttribute(\"current-page\") !== null) {\n\t\t\turl.searchParams.set(\"page\", String(_.currentPage + 1));\n\t\t}\n\t\treturn url.href;\n\t}\n\n\t/** fetches next page, injects html, updates state */\n\tasync fetchAndAppendNextPage() {\n\t\tconst _ = this;\n\t\tconst response = await fetch(_.buildNextPageUrl(), {\n\t\t\tcredentials: \"same-origin\",\n\t\t});\n\t\tif (!response.ok) throw new Error(`http error ${response.status}`);\n\n\t\tconst html = await response.text();\n\t\tconst parsedDoc = new DOMParser().parseFromString(html, \"text/html\");\n\n\t\t_.contentSelectors.forEach((selector) => {\n\t\t\tconst sourceEl = parsedDoc.querySelector(selector);\n\t\t\tconst destinationEl = document.querySelector(selector);\n\n\t\t\tif (!sourceEl || !destinationEl) {\n\t\t\t\tconsole.warn(\n\t\t\t\t\t`load-content: selector \"${selector}\" not found in one of the documents`,\n\t\t\t\t);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst elementMode = destinationEl.getAttribute(\"data-load-content\");\n\t\t\tconst shouldSwap =\n\t\t\t\telementMode === \"swap\" || (elementMode === null && _.mode === \"swap\");\n\n\t\t\tif (shouldSwap) {\n\t\t\t\t// swap entire content\n\t\t\t\tdestinationEl.innerHTML = sourceEl.innerHTML;\n\t\t\t\t_.itemsShown = destinationEl.children.length; // keep count accurate\n\t\t\t} else {\n\t\t\t\t// gather children and optionally filter\n\t\t\t\tlet childrenToAppend = Array.from(sourceEl.children);\n\t\t\t\tif (_.appendFilter) {\n\t\t\t\t\tchildrenToAppend = childrenToAppend.filter((child) =>\n\t\t\t\t\t\tchild.matches(_.appendFilter),\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tchildrenToAppend.forEach((child) => {\n\t\t\t\t\tdestinationEl.appendChild(child);\n\t\t\t\t\t_.itemsShown += 1;\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\t/* update page counter */\n\t\t_.currentPage += 1;\n\n\t\t/* read has-next-page flag from fetched markup */\n\t\tconst newLoadContentEl = parsedDoc.querySelector(\"load-content\");\n\t\tif (\n\t\t\tnewLoadContentEl &&\n\t\t\tnewLoadContentEl.getAttribute(\"has-next-page\") !== null\n\t\t) {\n\t\t\t_.hasNextPage =\n\t\t\t\tnewLoadContentEl.getAttribute(\"has-next-page\") === \"true\";\n\t\t}\n\n\t\t/* reflect new values outward */\n\t\t_.setAttribute(\"current-page\", String(_.currentPage));\n\t\t_.setAttribute(\"has-next-page\", String(_.hasNextPage));\n\n\t\t/* refresh button */\n\t\t_.updateButtonState();\n\n\t\t/* fire event for observers */\n\t\t_.dispatchEvent(\n\t\t\tnew CustomEvent(\"onContentLoaded\", {\n\t\t\t\tbubbles: true,\n\t\t\t\tdetail: {\n\t\t\t\t\tdocument: parsedDoc,\n\t\t\t\t\titemsShown: _.itemsShown,\n\t\t\t\t\tcurrentPage: _.currentPage,\n\t\t\t\t},\n\t\t\t}),\n\t\t);\n\t}\n}\n\n/* register once */\nif (!customElements.get(\"load-content\")) {\n\tcustomElements.define(\"load-content\", LoadContent);\n}\n"],"names":[],"mappings":"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"}