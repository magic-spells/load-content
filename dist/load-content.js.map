{"version":3,"file":"load-content.js","sources":["../src/load-content.js"],"sourcesContent":["import \"./load-content.scss\";\n\n/* ------------------------------------------------------------------\n * <load-content> web component\n * ---------------------------------------------------------------- */\nclass LoadContent extends HTMLElement {\n\t/** sets up internal state and binds methods */\n\tconstructor() {\n\t\tsuper();\n\n\t\t/** @private {number} current page index (1-based) */\n\t\tthis.currentPage = 1;\n\n\t\t/** @private {boolean} whether another page exists */\n\t\tthis.hasNextPage = false;\n\n\t\t/** @private {string} base url to request more html from */\n\t\tthis.baseUrl = \"\";\n\n\t\t/** @private {string} default mode for content loading (append|swap) */\n\t\tthis.mode = \"append\";\n\n\t\t/** @private {string[]} css selectors whose children weâ€™ll append */\n\t\tthis.contentSelectors = [];\n\n\t\t/** @private {string} css selector to filter which children to append */\n\t\tthis.appendFilter = \"\";\n\n\t\t/** @private {number} total items that have been appended so far */\n\t\tthis.itemsShown = 0;\n\n\t\t/** @private {boolean} guard to prevent duplicate clicks while loading */\n\t\tthis.isLoading = false;\n\n\t\t/* bind so we can remove listener if element detaches */\n\t\tthis.handleClick = this.handleClick.bind(this);\n\t}\n\n\t/* --------------------------------------------------------------\n\t * lifecycle\n\t * ---------------------------------------------------------- */\n\tconnectedCallback() {\n\t\tthis.readAttributes();\n\t\tthis.addEventListener(\"click\", this.handleClick);\n\t\tthis.updateButtonState();\n\t}\n\n\tdisconnectedCallback() {\n\t\tthis.removeEventListener(\"click\", this.handleClick);\n\t}\n\n\t/* --------------------------------------------------------------\n\t * attribute helpers\n\t * ---------------------------------------------------------- */\n\t/** parses data- attributes into internal state */\n\treadAttributes() {\n\t\tthis.currentPage = Number(this.dataset.currentPage) || 1;\n\t\tthis.hasNextPage = this.dataset.hasNextPage === \"true\";\n\t\tthis.baseUrl = this.dataset.url || window.location.pathname;\n\t\tthis.mode = this.dataset.mode || \"append\";\n\t\tthis.contentSelectors = (this.dataset.targets || \"\")\n\t\t\t.split(\",\")\n\t\t\t.map((s) => s.trim())\n\t\t\t.filter(Boolean);\n\t\tthis.appendFilter = this.dataset.appendFilter || \"\";\n\n\t\t/* recount items currently in the dom */\n\t\tthis.itemsShown = this.contentSelectors.reduce((sum, selector) => {\n\t\t\tconst el = document.querySelector(selector);\n\t\t\treturn el ? sum + el.children.length : sum;\n\t\t}, 0);\n\t}\n\n\t/* --------------------------------------------------------------\n\t * public api\n\t * ---------------------------------------------------------- */\n\t/**\n\t * resets internal + reflected state\n\t * @param {Object} opts\n\t */\n\treset(opts = {}) {\n\t\tif (opts.currentPage !== undefined)\n\t\t\tthis.dataset.currentPage = String(opts.currentPage);\n\t\tif (opts.hasNextPage !== undefined)\n\t\t\tthis.dataset.hasNextPage = String(opts.hasNextPage);\n\t\tif (opts.url !== undefined) this.dataset.url = opts.url;\n\t\tif (opts.targets !== undefined) {\n\t\t\tthis.dataset.targets = Array.isArray(opts.targets)\n\t\t\t\t? opts.targets.join(\", \")\n\t\t\t\t: String(opts.targets);\n\t\t}\n\t\tif (opts.mode !== undefined) this.dataset.mode = opts.mode;\n\t\tif (opts.appendFilter !== undefined)\n\t\t\tthis.dataset.appendFilter = opts.appendFilter;\n\n\t\tthis.readAttributes();\n\t\tthis.updateButtonState();\n\n\t\tthis.dispatchEvent(\n\t\t\tnew CustomEvent(\"onReset\", {\n\t\t\t\tbubbles: true,\n\t\t\t\tdetail: {\n\t\t\t\t\tcurrentPage: this.currentPage,\n\t\t\t\t\thasNextPage: this.hasNextPage,\n\t\t\t\t\titemsShown: this.itemsShown,\n\t\t\t\t},\n\t\t\t}),\n\t\t);\n\t}\n\n\t/* --------------------------------------------------------------\n\t * button state helpers\n\t * ---------------------------------------------------------- */\n\tdisable() {\n\t\tthis.setAttribute(\"disabled\", \"\");\n\t\tthis.setAttribute(\"data-state\", \"loading\");\n\t}\n\n\tenable() {\n\t\tthis.removeAttribute(\"disabled\");\n\t\tthis.setAttribute(\"data-state\", \"ready\");\n\t}\n\n\tsetComplete() {\n\t\tthis.setAttribute(\"disabled\", \"\");\n\t\tthis.setAttribute(\"data-state\", \"complete\");\n\t}\n\n\tupdateButtonState() {\n\t\tif (this.isLoading) this.disable();\n\t\telse if (!this.hasNextPage) this.setComplete();\n\t\telse this.enable();\n\t}\n\n\t/* --------------------------------------------------------------\n\t * click + fetch\n\t * ---------------------------------------------------------- */\n\tasync handleClick(evt) {\n\t\tevt.preventDefault();\n\t\tif (!this.hasNextPage || this.isLoading) return;\n\n\t\tthis.isLoading = true;\n\t\tthis.updateButtonState();\n\n\t\ttry {\n\t\t\tawait this.fetchAndAppendNextPage();\n\t\t} catch (err) {\n\t\t\tconsole.error(\"load-content: failed to load next page\", err);\n\t\t} finally {\n\t\t\tthis.isLoading = false;\n\t\t\tthis.updateButtonState();\n\t\t}\n\t}\n\n\t/** builds ?page= param for the next request */\n\tbuildNextPageUrl() {\n\t\tconst url = new URL(this.baseUrl, window.location.origin);\n\t\tif (this.mode === \"append\" && this.dataset.currentPage !== undefined) {\n\t\t\turl.searchParams.set(\"page\", String(this.currentPage + 1));\n\t\t}\n\t\treturn url.href;\n\t}\n\n\t/** fetches next page, injects html, updates state */\n\tasync fetchAndAppendNextPage() {\n\t\tconst response = await fetch(this.buildNextPageUrl(), {\n\t\t\tcredentials: \"same-origin\",\n\t\t});\n\t\tif (!response.ok) throw new Error(`http error ${response.status}`);\n\n\t\tconst html = await response.text();\n\t\tconst parsedDoc = new DOMParser().parseFromString(html, \"text/html\");\n\n\t\tthis.contentSelectors.forEach((selector) => {\n\t\t\tconst sourceEl = parsedDoc.querySelector(selector);\n\t\t\tconst destinationEl = document.querySelector(selector);\n\n\t\t\tif (!sourceEl || !destinationEl) {\n\t\t\t\tconsole.warn(\n\t\t\t\t\t`load-content: selector \"${selector}\" not found in one of the documents`,\n\t\t\t\t);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst elementMode = destinationEl.getAttribute(\"data-load-content\");\n\t\t\tconst shouldSwap =\n\t\t\t\telementMode === \"swap\" ||\n\t\t\t\t(elementMode === null && this.mode === \"swap\");\n\n\t\t\tif (shouldSwap) {\n\t\t\t\t// swap entire content\n\t\t\t\tdestinationEl.innerHTML = sourceEl.innerHTML;\n\t\t\t\tthis.itemsShown = destinationEl.children.length; // keep count accurate\n\t\t\t} else {\n\t\t\t\t// gather children and optionally filter\n\t\t\t\tlet childrenToAppend = Array.from(sourceEl.children);\n\t\t\t\tif (this.appendFilter) {\n\t\t\t\t\tchildrenToAppend = childrenToAppend.filter((child) =>\n\t\t\t\t\t\tchild.matches(this.appendFilter),\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tchildrenToAppend.forEach((child) => {\n\t\t\t\t\tdestinationEl.appendChild(child);\n\t\t\t\t\tthis.itemsShown += 1;\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\t/* update page counter */\n\t\tthis.currentPage += 1;\n\n\t\t/* read has-next-page flag from fetched markup */\n\t\tconst newLoadContentEl = parsedDoc.querySelector(\"load-content\");\n\t\tif (\n\t\t\tnewLoadContentEl &&\n\t\t\tnewLoadContentEl.dataset.hasNextPage !== undefined\n\t\t) {\n\t\t\tthis.hasNextPage = newLoadContentEl.dataset.hasNextPage === \"true\";\n\t\t}\n\n\t\t/* reflect new values outward */\n\t\tthis.dataset.currentPage = String(this.currentPage);\n\t\tthis.dataset.hasNextPage = String(this.hasNextPage);\n\n\t\t/* refresh button */\n\t\tthis.updateButtonState();\n\n\t\t/* fire event for observers */\n\t\tthis.dispatchEvent(\n\t\t\tnew CustomEvent(\"onContentLoaded\", {\n\t\t\t\tbubbles: true,\n\t\t\t\tdetail: {\n\t\t\t\t\tdocument: parsedDoc,\n\t\t\t\t\titemsShown: this.itemsShown,\n\t\t\t\t\tcurrentPage: this.currentPage,\n\t\t\t\t},\n\t\t\t}),\n\t\t);\n\t}\n}\n\n/* register once */\nif (!customElements.get(\"load-content\")) {\n\tcustomElements.define(\"load-content\", LoadContent);\n}\n"],"names":[],"mappings":"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"}